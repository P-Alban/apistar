<pre class="highlight python {% if not is_selected %}hide{% endif %}" data-language="python"><code>import requests

url = "{{ link.url }}"
{% if link.get_query_fields() %}params = {
{% for field in link.get_query_fields() %}    "{{ field.name }}": ...{% if not loop.last %},{% endif %}
{% endfor %}}{% endif %}

response = requests.{{ link.method.lower() }}(url{% if link.get_query_fields() %}, params=params{% endif %})
response.raise_for_status()
print(response.json())
</code></pre>
